{"title":"阿里云lnmp更换预装mysql遇到的坑","date":"2018-12-05T11:00:00.000Z","date_formatted":{"ll":"Dec 5, 2018","L":"12/05/2018","MM-DD":"12-05"},"link":"Learning/fd412be05567","tags":["Mysql"],"categories":["Learning"],"updated":"2023-11-14T12:07:06.466Z","content":"<h2 id=\"坑1：mysql-server-pid-file-could-not-be-found!\">坑1：MySQL server PID file could not be found!<a title=\"#坑1：mysql-server-pid-file-could-not-be-found!\" href=\"#坑1：mysql-server-pid-file-could-not-be-found!\"></a></h2>\n<p>  这是阿里云轻应用服务器的一个坑，提示PID文件找不到。这是预装的lnmp的问题，他们修改了配置文件。我们需要重新修改一下，具体步骤如下：</p>\n<p>vim 打开 /etc/my.cnf<br>\n修改其中的pid路径，具体路径在：<br>\n/usr/local/mysql/data/阿里应用名.pid</p>\n<h2 id=\"坑2：can't-connect-to-local-mysql-server...\">坑2：Can’t connect to local MySQL server…<a title=\"#坑2：can't-connect-to-local-mysql-server...\" href=\"#坑2：can't-connect-to-local-mysql-server...\"></a></h2>\n<p>  提示：ERROR 2002 (HY000): Can’t connect to local MySQL server through socket ‘/var/lib/mysql/mysql.sock’ ，这个也是无法找到sock文件导致的。我找到那个目录，确实也没有发现.sock文件，sock丢失。具体解决方法如下：</p>\n<p>  先杀死所有mysqld进程，然后重新生成sock文件。最后再重启mysqld服务</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">killall mysqld</span><br><span class=\"line\">/usr/local/mysql/bin/mysql_install_db</span><br><span class=\"line\">/usr/local/mysql/bin/mysqld_safe &amp;    </span><br><span class=\"line\">service mysqld start</span><br></pre></td></tr></table></figure>\n","prev":{"title":"Vue.js学习笔记","link":"Learning/bc07c5f099c1"},"next":{"title":"阿里轻量云服务器ssl证书部署","link":"Learning/d97b541a2c03"},"plink":"https://blog.jschef.com/Learning/fd412be05567/","toc":[{"id":"坑1：mysql-server-pid-file-could-not-be-found!","title":"坑1：MySQL server PID file could not be found!","index":"1"},{"id":"坑2：can't-connect-to-local-mysql-server...","title":"坑2：Can’t connect to local MySQL server…","index":"2"}],"reward":true,"copyright":{"author":"Chef Wu","link":"<a href=\"https://blog.jschef.com/Learning/fd412be05567/\" title=\"阿里云lnmp更换预装mysql遇到的坑\">https://blog.jschef.com/Learning/fd412be05567/</a>","license":"自由转载-非商用-禁止演绎-保持署名 (<a href=\\\"https://creativecommons.org/licenses/by-nc-sa/4.0/\\\" rel=\\\"external nofollow\\\" target=\\\"_blank\\\">CC BY-NC-ND 4.0</a>)","published":"December 5, 2018"}}